# YM2610 to YM2612 Converter - Release Notes v1.3

## 版本 1.3 - 2026-02-04

### 🎵 音量平衡优化

#### FM 音量调整
- **从 1/8 提升到 1/6**
- TL 调整：从 +18 改为 +16
- 音量变化：-18dB → -15.6dB
- 效果：FM 稍微提升，与 PCM 平衡更好

### 📊 音量设置对比

| 组件 | v1.2 | v1.3 | 变化 |
|------|------|------|------|
| FM 音量 | 1/8 (-18dB) | 1/6 (-15.6dB) | +2.4dB |
| PCM 音量 | 150% | 150% | 无变化 |
| 平衡 | PCM 较强 | 更平衡 | ✓ |

### 🔧 技术细节

#### TL (Total Level) 寄存器调整
```cpp
// 旧版本 (v1.2)
adjustedData = (data + 18 > 127) ? 127 : data + 18;  // 1/8 音量

// 新版本 (v1.3)
adjustedData = (data + 16 > 127) ? 127 : data + 16;  // 1/6 音量
```

#### 音量计算
```
原始音量: 100%
1/8 音量: 12.5% (-18dB)
1/6 音量: 16.7% (-15.6dB)
差异: +4.2% (+2.4dB)
```

### 🎯 使用场景

**推荐使用 v1.3 当**:
- PCM 音量过强，盖过 FM
- 需要更平衡的混音
- 想要更清晰的旋律线

**继续使用 v1.2 当**:
- 想要突出 ADPCM（鼓声、音效）
- PCM 音量已经合适

### 📝 完整设置

**v1.3 最终配置**:
```
ADPCM 提取:
  - 采样率: 22.05kHz
  - 音量: 150%
  - 循环: 1次
  - 淡出: 无

VGM 转换:
  - FM 音量: 1/6 (TL +16)
  - 采样率转换: 22.05kHz → 44.1kHz
  - DAC 立体声: 启用 (0xB6 = 0xC0)
```

### 🚀 使用方法（无变化）

```bash
# 1. 提取 ADPCM
vgm2wav_adpcm_only.exe input.vgm adpcm.wav

# 2. 转换为 YM2612
vgm_converter.exe input.vgm adpcm.wav output.vgm
```

### 📦 文件大小（无变化）

```
原始 YM2610:     260 KB
转换后 YM2612:   7.5 MB
播放时长:        44.3 秒
```

### 🔄 版本历史

| 版本 | FM 音量 | PCM 音量 | 采样率 | 主要改进 |
|------|---------|----------|--------|----------|
| v1.0 | 1/8 | 75% | 44.1kHz | 初始版本 |
| v1.1 | 1/8 | 150% | 22.05kHz | 降低采样率 |
| v1.2 | 1/8 | 150% | 22.05kHz | 修复播放速度 |
| v1.3 | **1/6** | 150% | 22.05kHz | **优化音量平衡** |

### 📝 升级说明

从 v1.2 升级到 v1.3：
1. 替换 `vgm_converter.exe`
2. 重新转换文件以获得更好的音量平衡
3. 文件大小和播放速度不变

---

**发布日期**: 2026-02-04
**版本**: 1.3
**状态**: 稳定版
**优先级**: 中（音量平衡优化）
